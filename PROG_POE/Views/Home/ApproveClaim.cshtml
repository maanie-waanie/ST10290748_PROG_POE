@{
    ViewData["Title"] = "Approve Claim";
}
@* @model List<PROG_POE.Models.Claim> *@

@*
    Aman Adams
    ST10290748
    Prog2B POE PART 2
    Reference: Used W3 Schools for Format and Style

*@
@*//--------------------------------------------------------------------------------------------------------------------------------------------//*@
<div class="text-center" style="margin-bottom: 40px;">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu|Lora">
    <h1 style="font-size: 2.5em; font-weight: bold; color: cadetblue; font-family: Ubuntu, sans-serif;">HR/Coordinator Dashboard</h1>
    <h1 style="font-size: 2.5em; font-weight: bold; color: gray; font-family: Ubuntu, sans-serif;">Approve Claims</h1>
</div>
@* 
@if (Model != null && Model.Any())
{
    <form asp-action="ApproveClaim" method="post" style="border:1px solid #ccc; margin-bottom: 40px; font-family: Poppins;">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins">
        <div class="container">
            <h1>Approve or Reject Claims</h1>
            <p>Review the claim details and approve or reject:</p>
            <hr>
            @foreach (var claim in Model)
            {
                <div style="border:1px solid #ccc; padding: 20px; margin-bottom: 20px;">
                    <p><strong>Lecturer:</strong> @claim.LecturerName</p>
                    <p><strong>Claim Amount:</strong> @claim.claimAmount</p>
                    <p><strong>Hours Worked:</strong> @claim.TotalHours</p>
                    <p><strong>Status:</strong> @claim.Status</p>

                    <form asp-action="ApproveClaim" method="post" action="/Coordinator/ApproveClaim">
                        <input type="hidden" name="claimId" value="@claim.ClaimID" />
                        <button type="submit" name="action" value="approve" class="approvebtn">Approve</button>
                        <button type="submit" name="action" value="reject" class="cancelbtn">Reject</button>
                    </form>
                </div>
            }
        </div>
    </form>
}
else
{ *@
<div class="container">
    <h1>Approve or Reject Pending Claims</h1>
    <p>Review the claim details and approve or reject:</p>
    <hr>
    <table style="width:100%; border-collapse: collapse;">
        <thead>
            <tr style="background-color: cadetblue; color: white; text-align: left;">
                <th style="padding: 12px;">Lecturer</th>
                <th style="padding: 12px;">Claim Amount</th>
                <th style="padding: 12px;">Hours Worked</th>
                <th style="padding: 12px;">Hourly Rate</th>
                <th style="padding: 12px;">Additional Notes</th>
                <th style="padding: 12px;">Supporting Documents</th>
                <th style="padding: 12px; text-align: center;">Actions</th>
            </tr>
        </thead>
        <tbody>
            <tr style="border: 1px solid #ddd; text-align: left;">
                <td style="padding: 12px;">Aman Adams</td>
                <td style="padding: 12px;">200</td>
                <td style="padding: 12px;">10</td>
                <td style="padding: 12px;">20</td>
                <td style="padding: 12px;">Please can I have this amount</td>
                <td style="padding: 12px; color: blue;"><a href="#" target="_blank">BusinessContract.pdf</a></td>
                <td style="padding: 12px; text-align: center;">
                    <form asp-action="ApproveClaim" method="post" style="display: inline-block;">
                        <button type="submit" name="action" value="approve" class="approvebtn">Approve</button>
                    </form>
                    <form asp-action="ApproveClaim" method="post" style="display: inline-block;">
                        <button type="submit" name="action" value="reject" class="cancelbtn">Reject</button>
                    </form>
                </td>
            </tr>
            <tr style="border: 1px solid #ddd; text-align: left;">
                <td style="padding: 12px;">Aneeqah Mongratie</td>
                <td style="padding: 12px;">240</td>
                <td style="padding: 12px;">20</td>
                <td style="padding: 12px;">12</td>
                <td style="padding: 12px;">----</td>
                <td style="padding: 12px; color: blue;"><a href="#" target="_blank">Contract.pdf</a></td>
                <td style="padding: 12px; text-align: center;">
                    <form asp-action="ApproveClaim" method="post" style="display: inline-block;">
                        <button type="submit" name="action" value="approve" class="approvebtn">Approve</button>
                    </form>
                    <form asp-action="ApproveClaim" method="post" style="display: inline-block;">
                        <button type="submit" name="action" value="reject" class="cancelbtn">Reject</button>
                    </form>
                </td>
            </tr>
        </tbody>
    </table>
    <hr>
</div>

<div class="container">
    <h1>Claims History</h1>
    <p>Below is the list of claims that have been reviewed:</p>
    <hr>
    <table style="width:100%; border-collapse: collapse;">
        <thead>
            <tr style="background-color: cadetblue; color: white; text-align: left;">
                <th style="padding: 12px;">Lecturer</th>
                <th style="padding: 12px;">Claim Amount</th>
                <th style="padding: 12px;">Hours Worked</th>
                <th style="padding: 12px;">Hourly Rate</th>
                <th style="padding: 12px;">Additional Notes</th>
                <th style="padding: 12px;">Supporting Documents</th>
                <th style="padding: 12px; text-align: center;">Status</th>
            </tr>
        </thead>
        <tbody>
            <tr style="border: 1px solid #ddd; text-align: left;">
                <td style="padding: 12px;">Ranaa Jacobs</td>
                <td style="padding: 12px;">2000</td>
                <td style="padding: 12px;">12</td>
                <td style="padding: 12px;">20</td>
                <td style="padding: 12px;">No issues raised</td>
                <td style="padding: 12px; color: blue;"><a href="#" target="_blank">BusinessContract.pdf</a></td>
                <td style="padding: 12px; text-align: center; color: green;">Approved</td>
            </tr>
            <tr style="border: 1px solid #ddd; text-align: left;">
                <td style="padding: 12px;">Azra Ebrahiem</td>
                <td style="padding: 12px;">500</td>
                <td style="padding: 12px;">25</td>
                <td style="padding: 12px;">20</td>
                <td style="padding: 12px;">Supporting evidence incomplete</td>
                <td style="padding: 12px; color: blue;"><a href="#" target="_blank">IncompleteDocument.pdf</a></td>
                <td style="padding: 12px; text-align: center; color: red;">Rejected</td>
            </tr>
            <tr style="border: 1px solid #ddd; text-align: left;">
                <td style="padding: 12px;">Qiran Adams</td>
                <td style="padding: 12px;">750</td>
                <td style="padding: 12px;">15</td>
                <td style="padding: 12px;">50</td>
                <td style="padding: 12px;">Additional notes provided</td>
                <td style="padding: 12px; color: blue;"><a href="#" target="_blank">Notes.pdf</a></td>
                <td style="padding: 12px; text-align: center; color: green;">Approved</td>
            </tr>
        </tbody>
    </table>
    <hr>
</div>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lecturer Management</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css">
</head>
<body>
    <div class="container mt-5">
        <h3>Lecturer Data Management</h3>
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Contact Info</th>
                    <th>Email</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Tahir Samsodien</td>
                    <td>012 456 4789</td>
                    <td>tahir@email.com</td>
                    <td><button class="btn btn-warning" onclick="editLecturer('Tahir Samsodien', '012 456 4789', 'tahir@email.com')">Edit</button></td>
                </tr>
                <tr>
                    <td>Hayfa Jacobs</td>
                    <td>+021 765 4310</td>
                    <td>hayfa@email.com</td>
                    <td><button class="btn btn-warning" onclick="editLecturer('Hayfa Jacobs', '021 765 4310', 'hayfah@email.com')">Edit</button></td>
                </tr>
            </tbody>
        </table>
        <hr />


<!-- Update Lecturer Form -->
<div id="edit-section" class="d-none">
    <h4>Edit Lecturer Information</h4>
    <form>
        <div class="mb-3">
            <label for="lecturer-name" class="form-label">Name:</label>
            <input type="text" id="lecturer-name" class="form-control" />
        </div>
        <div class="mb-3">
            <label for="lecturer-contact" class="form-label">Contact Info:</label>
            <input type="text" id="lecturer-contact" class="form-control" />
        </div>
        <div class="mb-3">
            <label for="lecturer-email" class="form-label">Email:</label>
            <input type="email" id="lecturer-email" class="form-control" />
        </div>
        <button type="button" class="btn btn-success" onclick="saveLecturer()">Save Changes</button>
    </form>
</div>
    </div>
    <script>
        function editLecturer(name, contact, email) {
            document.getElementById("edit-section").classList.remove("d-none");
            document.getElementById("lecturer-name").value = name;
            document.getElementById("lecturer-contact").value = contact;
            document.getElementById("lecturer-email").value = email;
        }

        function saveLecturer() {
            const name = document.getElementById("lecturer-name").value;
            const contact = document.getElementById("lecturer-contact").value;
            const email = document.getElementById("lecturer-email").value;
            alert(`Lecturer updated:\nName: ${name}\nContact: ${contact}\nEmail: ${email}`);
        }
    </script>
</body>
</html>


@* } *@



@*//--------------------------------------------------------------------------------------------------------------------------------------------//*@
@* Styles for the buttons and form *@
<style>
    body {
        font-family: Arial, Helvetica, sans-serif;
    }

    table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 20px;
    }

    th, td {
        border: 1px solid #ddd;
        text-align: left;
        padding: 12px;
    }

    th {
        background-color: cadetblue;
        color: white;
    }

    tr:nth-child(even) {
        background-color: #f9f9f9;
    }

    tr:hover {
        background-color: #f1f1f1;
    }

    .approvebtn, .cancelbtn {
        padding: 10px 20px;
        margin: 5px;
        border: none;
        cursor: pointer;
        font-size: 14px;
        border-radius: 4px;
    }

    .approvebtn {
        background-color: #4CAF50;
        color: white;
    }

        .approvebtn:hover {
            background-color: #45a049;
        }

    .cancelbtn {
        background-color: #f44336;
        color: white;
    }

        .cancelbtn:hover {
            background-color: #da190b;
        }

    a {
        color: blue;
        text-decoration: underline;
    }
</style>
